<ul class="flex items-center list-none space-x-8">
	{% for item in items %}
		{% set is_active = item.current or item.current_item_ancestor or item.current_item_parent %}
		{% set has_children = item.children is defined and item.children|length > 0 %}

		<li
			class="relative group py-6">
			{# py-6 creates the hover bridge #}

			{% if has_children %}
				<div class="flex items-center cursor-pointer font-medium transition-colors duration-200 {{ is_active ? 'text-primary' : 'text-gray-700 hover:text-primary' }}">
					<span>{{ item.title }}</span>
					<svg class="w-4 h-4 ms-1 transition-transform duration-200 group-hover:rotate-180" fill="none" viewbox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
					</svg>
				</div>

				{# DROPDOWN #}
				<div class="absolute left-0 top-full z-50 hidden group-hover:block min-w-[200px] pt-0">
					<ul class="bg-white border border-gray-100 shadow-xl rounded-b-lg py-2 overflow-hidden">
						{% for child in item.children %}
							<li>
								<a href="{{ child.link|e('esc_url') }}" class="block px-4 py-2.5 text-sm font-medium {{ child.current ? 'text-primary bg-gray-50' : 'text-gray-600 hover:text-primary hover:bg-gray-50' }}">
									{{ child.title }}
								</a>
							</li>
						{% endfor %}
					</ul>
				</div>

			{% else %}
				<a href="{{ item.link|e('esc_url') }}" class="block font-medium transition-colors duration-200 {{ is_active ? 'text-primary' : 'text-gray-700 hover:text-primary' }}">
					{{ item.title }}
				</a>
			{% endif %}

		</li>
	{% endfor %}
</ul>
