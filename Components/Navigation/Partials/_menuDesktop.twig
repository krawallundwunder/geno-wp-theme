<ul class="flex items-center list-none ps-8 -me-4">
	{% for item in items %}
		{% set is_active = item.current or item.current_item_ancestor or item.current_item_parent %}

		<li class="relative group z-50">

			{% set has_children = item.children is defined and item.children|length > 0 %}

			{% if has_children %}
				{# DROPDOWN TOGGLE #}
				<button type="button" aria-haspopup="true" aria-expanded="false" class="inline-flex items-center cursor-pointer py-2 px-3 transition-colors duration-200 ease-in-out will-change-[color] {{ is_active ? 'text-yellow-400 underline decoration-2 underline-offset-4' : 'text-white hover:text-yellow-400 ' }}">
					<span>{{ item.title }}</span>
					<iconify-icon icon="lucide:chevron-down" class="h-7 w-7 ms-1 place-content-center inline-block transition-transform duration-200 group-hover:rotate-180"></iconify-icon>
				</button>
			{% else %}

				{# STANDARD LINK #}
				<a class="inline-block py-2 px-3 transition-colors duration-200 ease-in-out will-change-[color] no-underline! {{ item.current ? 'text-yellow-400 underline! decoration-2 underline-offset-4' : ' text-white hover:text-yellow-400 hover:underline' }}" href="{{ item.link|e('esc_url')|e }}" {{ item.is_external or item.is_target_blank ? ' target="_blank" rel="noopener noreferrer nofollow"' }}>
					<span>{{ item.title }}</span>
				</a>

			{% endif %}

			{# DROPDOWN MENU #}
			{% if has_children %}
				<ul class="absolute left-0 top-full hidden w-56 rounded-md bg-white shadow-xl ring-1 ring-black/5 group-hover:block py-1">
					{% for child in item.children %}
						<li>
							<a class="block px-4 py-2 text-sm transition-colors duration-150 no-underline! {{ child.current ? 'bg-gray-100 text-black font-semibold underline!' : 'text-gray-700 hover:bg-gray-50 hover:text-gray-900' }}" href="{{ child.link|e('esc_url') }}" {{ child.is_external or child.is_target_blank ? ' target="_blank" rel="noopener noreferrer"' }}>
								{{ child.title }}
							</a>
						</li>
					{% endfor %}
				</ul>
			{% endif %}
		</li>
	{% endfor %}
</ul>
